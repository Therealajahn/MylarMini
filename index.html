<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mylar Mini</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      body {
        width: 100vw;
        height: 100vh;
        display: grid;
      }
      .back-plate {
        justify-self: center;
        align-self: center;
        width: 60vw;
        height: 30vw;
        background: black;
        border-radius: 2vw;
        display: grid;
        grid-template-rows: 20% 20% 60%;
        grid-template-columns: 1fr;
      }
      .top-plate {
        justify-self: center;
        align-self: center;
        width: 90%;
        height: 90%;
        background: grey;
        border-radius: 1vw;
        display: grid;
      }
      .mid-plate {
        justify-self: center;
        align-self: center;
        width: 90%;
        height: 90%;
        background: grey;
        border-radius: 1vw;
        display: grid;
      }
      .main-plate {
        justify-self: center;
        align-self: center;
        width: 90%;
        height: 90%;
        background: grey;
        border-radius: 1vw;
        display: grid;
      }
      .panels-wrapper {
        justify-self: center;
        align-self: center;
        width: 99%;
        height: 99.9%;
        display: grid;
        grid-template-rows: 1fr;
        grid-template-columns: repeat(8, 1fr);
      }
      panel {
        justify-self: center;
        align-self: center;
        width: 90%;
        height: 95%;
        background: #7d7d7d; 
        border-radius: 0.5vw;
        display: grid;
        grid-template-rows: 1fr;
				border: .25vw solid white; 
      }
    </style>
  </head>
  <body>

    <back-plate>
      <top-plate></top-plate>
      <mid-plate></mid-plate>
      <main-plate>
			</main-plate>
    </back-plate>

    <script>
      const backPlate = document.querySelector("back-plate");
      backPlate.setAttribute("class", "back-plate");

      const topPlate = document.querySelector("top-plate");
      topPlate.setAttribute("class", "top-plate");

      const midPlate = document.querySelector("mid-plate");
      midPlate.setAttribute("class", "mid-plate");

      const mainPlate = document.querySelector("main-plate");
      mainPlate.setAttribute("class", "main-plate");

      const panelsWrapper = document.createElement("div");
      panelsWrapper.setAttribute("class", "panels-wrapper");
      mainPlate.appendChild(panelsWrapper);

      function repeatElement({ repititions, elementName, className, parentName }) {
        for (let i = 0; i < repititions; i++) {
					console.log('repetitions: ',repititions);
					console.log('i:',i); 
          const currentElement = document.createElement("panel");
          parentName.appendChild(currentElement);
					console.log('type: ', typeof className);
					if(typeof className === "string"){
						console.log('first case'); 
						currentElement.setAttribute("class", `${className}`);
						continue; 
					}
					if(className.length === repititions){
						console.log('second case');
						currentElement.setAttribute("class", `${className[i]}`);
						continue; 
					}
					throw new Error(`Array length doesn't match repititions for ${elementName}: ${i}`)
        }
      }

      repeatElement({
        repititions: 8,
				elementName:"panel",
				className:"panel",
        parentName: panelsWrapper,
      });

			function panel(){
				console.log('panel: ',document.querySelectorAll('panel-'));
			}
			panel(); 

    </script>
  </body>
</html>
